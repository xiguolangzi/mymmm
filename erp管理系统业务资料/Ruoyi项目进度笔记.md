# 《若依  二开进度笔记》

## 一、进度记录

### 2024-10-7

####  	tenant_id 字段 - 多租户实现(查询、新增)

  -- 【在线用户】根据租户过滤逻辑；
  -- 【操作日志】数据范围权限维护；
  --  【登录日志】无法做 数据范围权限(维护部门、用户信息工作量有点大，再者登录日志没必要做数据范围权限)；
  -- 	前端：新增功能 - 异常退出重新登录返回之前访问的页面；

### 2024-10-8

#### 	1 新增表字段

  -- 部门新增 depe_type 字段，0 普通部门 1 租户绑定的部门 (后端新增、编辑 权限校验；默认新增0)
  --  用户类型维护 user_type , 00 系统用户 01 租户管理员 02 普通租户用户 (后端新增、编辑 权限校验；默认新增02)

#### 	2 租户管理 - 新增部门/新增租户管理员

  -- 租户管理界面 新增维护租户绑定部门(前后端)
  --  租户管理界面 新增维护租户绑定管理员用户(前后端)
  -- 操作日志，操作状态处理的一个BUG(只处理了抛出异常是为异常，正确返回，但是返回码是500的没有做异常日志状态处理)

### 2024-10-9

#### 	1 管理界面 选中租户过滤数据

-- 前端：界面添加 选中租户功能(只有系统用户类型登录才展示、否则不展示)、所有界面数据过滤传递 tenantID 字段；

-- 后端：所有查询添加 tenantId 过滤条件(配合前端是否传递此字段)；

-- 后端：在线用户 查询 tenantId  过滤修改逻辑；

...

### 2024-10-28

#### 1 私有远程工具 rustdesk

-- rustDesk 远程工具服务搭建

-- 修改 rustDesk LOGO 为ok标识



### 2024-10-29

#### 1 采购订单 - 编辑